(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-OrderDetails-OrderDetails"],{"0c5d":function(t,e,a){var i=a("3aab");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("383638e5",i,!0,{sourceMap:!1,shadowMode:!1})},"0c96":function(t,e,a){"use strict";a.r(e);var i=a("ab3b"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"3aab":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 黑色加粗字体 */\n/* 单行文本溢出省略 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.orderDetails[data-v-322b3a8d]{width:100%;min-height:100vh;display:flex;flex-direction:column;background:#f7f9fc}.orderDetails .arrow[data-v-322b3a8d]{width:%?26?%;height:%?16?%;margin-right:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.orderDetails .topBg[data-v-322b3a8d]{width:100%;height:%?537?%;position:absolute;top:%?-324?%;z-index:0}.orderDetails uni-cover-view[data-v-322b3a8d]{box-sizing:border-box}.orderDetails #mr-470[data-v-322b3a8d]{position:absolute;top:%?500?%;margin-top:0}.orderDetails .main[data-v-322b3a8d]{width:100%;padding:0 %?30?%;margin:%?76?% auto %?20?%;display:flex;box-sizing:border-box;flex-direction:column;z-index:1}.orderDetails .main .status[data-v-322b3a8d]{width:100%;min-height:%?220?%;border-radius:%?30?%;background:#fff;display:flex;flex-direction:column;justify-content:space-between;align-items:center;padding:%?30?%}.orderDetails .main .status .title[data-v-322b3a8d]{font-size:%?38?%;color:#000}.orderDetails .main .status .desc[data-v-322b3a8d]{color:#999;font-size:%?26?%}.orderDetails .main .status .btns[data-v-322b3a8d]{width:100%;display:flex;flex-direction:row;justify-content:center;margin-top:%?30?%}.orderDetails .main .status .btn[data-v-322b3a8d]{height:%?50?%;border-radius:%?25?%;padding:0 %?20?%;border:%?1?% solid #f33;margin:0 %?10?%;background:#ffd4d4;color:#f33;font-size:%?26?%;display:flex;align-items:center;justify-content:center}.orderDetails .main .status .cancel[data-v-322b3a8d]{background:#fff;color:#888;border:%?1?% solid #ddd}.orderDetails .main .status .deliverymanInfo[data-v-322b3a8d]{margin-top:%?60?%;width:100%;display:flex;align-items:center;justify-content:flex-start;height:%?150?%;border-top:%?1?% dashed #ddd;color:#333}.orderDetails .main .status .deliverymanInfo .pic[data-v-322b3a8d]{width:%?100?%;height:%?100?%;border-radius:50%;margin-right:%?15?%}.orderDetails .main .status .deliverymanInfo .info[data-v-322b3a8d]{height:70rxp;display:flex;flex-direction:column;justify-content:space-between}.orderDetails .main .status .deliverymanInfo .info .name[data-v-322b3a8d]{font-size:%?32?%}.orderDetails .main .status .deliverymanInfo .info .phone[data-v-322b3a8d]{font-size:%?28?%}.orderDetails .main .status .deliverymanInfo .msg[data-v-322b3a8d]{color:#666;border:%?1?% solid #ddd;padding:0 %?30?%;background:#fff;margin-right:0;margin-left:auto}.orderDetails .main .order[data-v-322b3a8d]{width:100%;margin-top:%?15?%;background:#fff;border-radius:%?30?%;display:flex;font-size:%?28?%;flex-direction:column}.orderDetails .main .order .line[data-v-322b3a8d]{width:100%;height:%?100?%;border-bottom:%?1?% solid #fafafa;padding:0 %?20?%;position:relative;display:flex;align-items:center;justify-content:space-between}.orderDetails .main .order .line .key[data-v-322b3a8d]{display:flex;align-items:center;color:#999}.orderDetails .main .order .line .value[data-v-322b3a8d]{color:#333;display:flex;align-items:center}.orderDetails .main .order .line .twoValue[data-v-322b3a8d]{color:#333;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-end}.orderDetails .main .order .line .twoValue .text[data-v-322b3a8d]{max-width:%?450?%;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.orderDetails .main .order .line .storeLocation[data-v-322b3a8d]{position:relative;padding-right:%?20?%}.orderDetails .main .order .line .arrow[data-v-322b3a8d]{position:absolute;top:0;bottom:0;right:%?20?%;margin:auto}.orderDetails .main .orderInfo[data-v-322b3a8d]{width:100%;background:#fff;border-radius:%?20?%;margin-top:%?30?%;padding:0 %?30?% %?20?%}.orderDetails .main .orderInfo > .title[data-v-322b3a8d]{width:100%;height:%?80?%;font-size:%?34?%;color:#000;font-weight:550;display:flex;align-items:center;border-bottom:%?1?% dashed #eee}.orderDetails .main .orderInfo > .title .icon[data-v-322b3a8d]{width:%?60?%;height:%?35?%;margin-right:%?22?%}.orderDetails .main .orderInfo > .title .text[data-v-322b3a8d]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.orderDetails .main .orderInfo .goodsList[data-v-322b3a8d]{width:100%;display:flex;flex-direction:column}.orderDetails .main .orderInfo .goodsList .goodsItem[data-v-322b3a8d]{height:%?200?%;width:100%;display:flex;align-items:center;border-bottom:%?1?% dashed #eee}.orderDetails .main .orderInfo .goodsList .goodsItem .pic[data-v-322b3a8d]{width:%?140?%;height:%?140?%;border-radius:%?30?%;flex-shrink:0}.orderDetails .main .orderInfo .goodsList .goodsItem .info[data-v-322b3a8d]{width:%?475?%;height:100%;display:flex;flex-direction:column;height:%?120?%;justify-content:space-between;padding-left:%?20?%}.orderDetails .main .orderInfo .goodsList .goodsItem .info .title[data-v-322b3a8d]{font-size:%?32?%;display:inline-block;line-height:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#000;font-weight:600}.orderDetails .main .orderInfo .goodsList .goodsItem .info .spu[data-v-322b3a8d]{font-size:%?26?%;color:#999;line-height:1}.orderDetails .main .orderInfo .goodsList .goodsItem .info .type[data-v-322b3a8d]{width:100%;height:%?35?%;line-height:%?35?%;display:flex}.orderDetails .main .orderInfo .goodsList .goodsItem .info .type .price[data-v-322b3a8d]{color:#fa6244;font-size:%?28?%}.orderDetails .main .orderInfo .goodsList .goodsItem .info .type .count[data-v-322b3a8d]{font-size:%?24?%;color:#666;margin-left:%?40?%}.orderDetails .main .orderInfo .goodsList .goodsItem .info .type .num[data-v-322b3a8d]{font-size:%?24?%;color:#666;margin-right:0;margin-left:auto}.orderDetails .main .orderInfo .checkOrder .line[data-v-322b3a8d]{width:100%;height:%?70?%;display:flex;align-items:center;justify-content:space-between;font-size:%?30?%}.orderDetails .main .orderInfo .checkOrder .name[data-v-322b3a8d]{color:#666}.orderDetails .main .orderInfo .checkOrder .red[data-v-322b3a8d]{color:#f24242}.orderDetails .main > .remarks[data-v-322b3a8d]{width:100%;padding:%?30?%;border-radius:%?30?%;background:#fff;margin-top:%?15?%;color:#000;font-size:%?28?%}.orderDetails .main > .remarks .name[data-v-322b3a8d]{margin-right:%?28?%}.orderDetails .main .orderDesc[data-v-322b3a8d]{width:100%;padding:%?20?% %?20?%;display:flex;align-items:center;flex-direction:column;font-size:%?28?%;background:#fff;border-radius:%?30?%;margin-top:%?15?%}.orderDetails .main .orderDesc .line[data-v-322b3a8d]{height:%?60?%;display:flex;align-items:center;width:100%;color:#999}.orderDetails .main .orderDesc .line .copy[data-v-322b3a8d]{width:%?100?%;height:%?50?%;border-radius:%?10?%;color:#333;font-size:%?28?%;display:flex;justify-content:center;align-items:center;border:%?1?% solid #d2d2d2;margin-right:0;margin-left:auto;padding:0}',""]),t.exports=e},"408f":function(t,e,a){"use strict";a.r(e);var i=a("5056"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},4641:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"countdown"},[a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.hours))]),a("v-uni-text",{staticClass:"text"},[t._v(":")]),a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.minute))]),a("v-uni-text",{staticClass:"text"},[t._v(":")]),a("v-uni-view",{staticClass:"item"},[t._v(t._s(t.second))])],1)},n=[]},5056:function(t,e,a){"use strict";(function(t){a("6a54");var i=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("aa9c"),a("5c47"),a("a1c1"),a("64aa"),a("4626"),a("fd3c");var n=i(a("9b1b")),s=i(a("99f6")),r=i(a("aa5b")),o=a("8f59"),d={components:{CountDown:r.default},data:function(){return{arrow:s.default,orderData:{},goodsData:{},order_store:{},deliveryData:{avatar:"",lat:"",lng:"",mobile:"",name:"未知"},userAddr:{lat:"",lng:""},isTips:!1,isPay:0,oid:0}},computed:(0,n.default)((0,n.default)({},(0,o.mapState)(["openid","phone","shopCarData","showPjlcSwiich","sid","storeData","uid","userInfo","currentOrder","NotInAnYang"])),{},{markers:function(){var t=[];return t.push({latitude:this.deliveryData.lat,longitude:this.deliveryData.lng,iconPath:"/static/icon/sendCart.png",width:42,height:30}),t},titleType:function(){var e=-1;return t.log(this.orderData.order_status),0==this.orderData.order_status&&(e=0),5==this.orderData.order_status&&(e=5),"self taking"==this.orderData.send_type&&(1!=this.orderData.order_status&&2!=this.orderData.order_status&&3!=this.orderData.order_status||(e=8)),"delivery"==this.orderData.send_type&&3==this.orderData.order_status&&(e=7),4==this.orderData.order_status&&(e=4),e},getTime:function(){var t=this.orderData.add_time?new Date(this.orderData.add_time).getTime():(new Date).getTime();t||(t=this.orderData.add_time?new Date(this.orderData.add_time.replace(/-/g,"/")).getTime():(new Date).getTime());var e=t+3e5;return e},getTimeOut:function(){var t=this.orderData.add_time?new Date(this.orderData.add_time).getTime():(new Date).getTime(),e=t+9e5;return e=new Date(e).format("hh:mm"),e}}),onLoad:function(t){this.isPay=t.isPay,this.oid=t.oid,this.getData()},onShow:function(){this.isTips=!0},onUnload:function(){this.isTips=!1},onPullDownRefresh:function(){this.getData((function(){uni.stopPullDownRefresh()}))},onBackPress:function(){1!=this.isPay||uni.switchTab({url:"/pages/index/index"})},methods:(0,n.default)((0,n.default)({},(0,o.mapMutations)(["set_storeData","set_showPjlcSwiich","set_shopCarData","set_openid","set_phone","set_sid","set_uid","set_userInfo","set_currentOrder"])),{},{getData:function(t){var e=this;this.$http({url:"/Ashx/Ashx_Pub.ashx?Develop_Code=178293102820&Function=Procedure",data:{InputValue:{oid:this.oid},InputName:"InputValue",ProcedureName:"order_detail"},method:"POST",success:function(a){if(200==a.ReturnValue.code){a.ReturnValue.order[0].order_price=Number(a.ReturnValue.order[0].order_price).twoFixed(),a.ReturnValue.order[0].discount=Number(a.ReturnValue.order[0].discount).twoFixed(),a.ReturnValue.order[0].integral_num=Number(a.ReturnValue.order[0].integral_num).twoFixed();var i=JSON.parse(a.ReturnValue.order[0].address);a.ReturnValue.order[0].address=i[0],e.orderData=a.ReturnValue.order[0],e.goodsData=a.ReturnValue.goods,e.order_store=e.orderData.store[0],"delivery"==e.orderData.send_type&&(e.userAddr=e.orderData.address,e.getDelivery(e.userAddr)),e.orderData.ReturnAmount&&uni.showToast({title:"提示：（门店确认后）余额返还： "+e.orderData.ReturnAmount,duration:2e3,icon:"none"}),"delivery"!=e.orderData.send_type||[0,4,5,6].includes(1*e.orderData.order_status)||uni.showModal({title:"下单成功",content:"商家已接单，正在为您配送!",showCancel:!1})}else uni.showToast({title:"获取订单数据失败，请检查网络~",icon:"none"});"function"===typeof t&&t()},error:function(){uni.showToast({title:"获取订单数据失败，请检查网络~",icon:"none"})}})},getDelivery:function(t){var e=this,a=function(){7==e.titleType?e.$http({url:"/Ashx/Ashx_Pub.ashx?Develop_Code=178293102820&Function=Procedure",data:{InputValue:{order_no:e.orderData.order_no},InputName:"InputValue",ProcedureName:"get_send_location"},method:"POST",success:function(t){200==t.ReturnValue.code&&(e.deliveryData=t.ReturnValue.data[0])}}):(e.sendTimer||0==e.sendTimer)&&clearInterval(e.sendTimer)};a(),(this.sendTimer||0==this.sendTimer)&&clearInterval(this.sendTimer),this.sendTimer=setInterval((function(){a()}),1e4)},getphone:function(t){t?uni.makePhoneCall({phoneNumber:t}):uni.showToast({title:"未获取到配送员联系方式~",icon:"none"})},getDistance:function(){var t=this.deliveryData,e=this.userAddr,a=999;return t.lat&&t.lng&&e.lat&&e.lng&&(a=this.countDistance(t.lat,t.lng,e.lat,e.lng)),a},countDistance:function(t,e,a,i){t=t||0,e=e||0,a=a||0,i=i||0;var n=t*Math.PI/180,s=a*Math.PI/180,r=n-s,o=e*Math.PI/180-i*Math.PI/180;return(12756274*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(n)*Math.cos(s)*Math.pow(Math.sin(o/2),2)))).toFixed(0)},copy:function(t){uni.setClipboardData({data:t,success:function(){uni.showToast({title:"复制成功~",icon:"none"})}})},cancelOrder:function(){var t=this;uni.showModal({title:"取消订单",content:"是否确认取消订单",success:function(e){e.confirm&&uni.$emit("upDateOrder",{data:{oid:t.orderData.id,status:"取消订单"},callback:function(e){uni.showToast({title:"取消成功~",icon:"none"}),setTimeout((function(){t.getData()}),500)}})}})},confirm:function(t){var e=this,a="",i="";1==t?(a="确认收货",i="是否确认收到本单货品"):(a="确认取货",i="是否确认本人已到店取货"),uni.showModal({title:a,content:i,success:function(a){a.confirm&&uni.$emit("upDateOrder",{data:{oid:e.orderData.id,status:1==t?"已送达":"已自取"},callback:function(t){uni.showToast({title:"确认成功~",icon:"none"}),setTimeout((function(){e.getData()}),500)}})}})},pay:function(){1!=this.isPay?(this.isPay=!0,uni.navigateTo({url:"/pages/pay/pay?order_id="+this.orderData.id+"&price="+this.orderData.order_price})):t.log("this.isPay")},openWeChatPay:function(t){var e=this;wx.requestPayment({nonceStr:t.nonceStr,package:t.package,paySign:t.paySign,signType:t.signType,timeStamp:t.timeStamp,success:function(t){e.isPay=!0,uni.$emit("upDateShocar")},error:function(t){e.isPay=!1},complete:function(){uni.reLaunch({url:"/pages/OrderDetails/OrderDetails?isPay="+ispay+"&oid="+order.id})}})},getLabel:function(t){if(""==t)return"";var e=t?t.split(","):"",a="";return e.map((function(t){a+=t+"|"})),a.substring(0,a.length-1)},openMap:function(){uni.openLocation({latitude:Number(this.order_store.lat),longitude:Number(this.order_store.lng),name:this.order_store.store_name,address:this.order_store.location})},evaluate:function(){var t=1;t="delivery"==this.orderData.send_type?2:1,uni.navigateTo({url:"/pages/evaluate/evaluate?type="+t+"&oid="+this.orderData.id})},toGoodsDetails:function(e){t.log(e);var a=e.goods_id;uni.navigateTo({url:"/pages/goodsdetails/goodsdetails?from=default&gid=".concat(a||"")})},timeEnd:function(){this.isTips&&uni.showModal({title:"取消订单",content:"超时未付款,该订单已关闭~",showCancel:!1,success:function(t){uni.navigateBack()}})}})};e.default=d}).call(this,a("ba7c")["default"])},"530f":function(t,e,a){var i=a("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 黑色加粗字体 */\n/* 单行文本溢出省略 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.countdown[data-v-7b900dee]{width:%?115?%;height:%?30?%;display:flex;justify-content:space-between;font-size:%?22?%}.countdown .item[data-v-7b900dee]{width:%?34?%;height:%?30?%;color:#fff;background:#ff586d;border-radius:%?6?%;display:flex;align-items:center;justify-content:center}.countdown .text[data-v-7b900dee]{color:#ff586d;margin:0 %?4?%}',""]),t.exports=e},"5e80":function(t,e,a){"use strict";a.r(e);var i=a("90e3"),n=a("408f");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("653b");var r=a("828b"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"322b3a8d",null,!1,i["a"],void 0);e["default"]=o.exports},"63c5":function(t,e,a){var i=a("530f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("967d").default;n("2a95ed1d",i,!0,{sourceMap:!1,shadowMode:!1})},"653b":function(t,e,a){"use strict";var i=a("0c5d"),n=a.n(i);n.a},"90e3":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"orderDetails"},[a("v-uni-image",{staticClass:"topBg",attrs:{src:"https://www.qsgl.net/html/img/365img/topbg.png",mode:"scaleToFill"}}),t.titleType&&7==t.titleType?a("v-uni-map",{staticStyle:{width:"100%",height:"600rpx"},attrs:{longitude:t.deliveryData.lng,latitude:t.deliveryData.lat,markers:t.markers}}):t._e(),a("v-uni-view",{staticClass:"main",attrs:{id:t.titleType&&7==t.titleType?"mr-470":""}},[t.titleType&&8==t.titleType?a("v-uni-view",{staticClass:"status"},[a("v-uni-view",{staticClass:"title"},[t._v("等待自提")]),a("v-uni-view",{staticClass:"desc"},[t._v("请您尽快去门店取货哦~")]),a("v-uni-button",{staticClass:"btn",attrs:{plain:!0},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.confirm(2)}}},[t._v("确认取货")])],1):t._e(),t.titleType&&7==t.titleType?a("v-uni-cover-view",{staticClass:"status"},[a("v-uni-cover-view",{staticClass:"title"},[t._v("订单配送中")]),a("v-uni-cover-view",{staticClass:"desc"},[t._v("配送员距离您"+t._s(t.getDistance())+"m,预计"+t._s(t.getTimeOut)+"送达~")]),a("v-uni-cover-view",{staticClass:"btns"},[a("v-uni-button",{staticClass:"btn cancel",attrs:{plain:!0}},[t._v("我要催单")])],1),a("v-uni-cover-view",{staticClass:"deliverymanInfo"},[a("v-uni-cover-image",{staticClass:"pic",staticStyle:{background:"#000"},attrs:{src:t.deliveryData.avatar,mode:"scaleToFill"}}),a("v-uni-cover-view",{staticClass:"info"},[a("v-uni-cover-view",{staticClass:"name"},[t._v(t._s(t.deliveryData.name))]),a("v-uni-cover-view",{staticClass:"phone"},[t._v(t._s(t.deliveryData.mobile))])],1),a("v-uni-button",{staticClass:"btn msg",attrs:{plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getphone(t.deliveryData.mobile)}}},[t._v("联系他")])],1)],1):t._e(),t.titleType&&4==t.titleType?a("v-uni-view",{staticClass:"status"},[a("v-uni-view",{staticClass:"title"},[t._v("交易已完成")]),a("v-uni-view",{staticClass:"desc"},[t._v("感谢您对我们的信任，期待您的再次光临~")]),0==t.orderData.is_comment?a("v-uni-button",{staticClass:"btn",attrs:{plain:!0},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.evaluate.apply(void 0,arguments)}}},[t._v("去评价")]):t._e()],1):t._e(),t.titleType&&5==t.titleType?a("v-uni-view",{staticClass:"status",staticStyle:{height:"165rpx"}},[a("v-uni-view",{staticClass:"title"},[t._v("交易已关闭")]),a("v-uni-view",{staticClass:"desc"},[t._v("订单已取消~")])],1):t._e(),t.titleType&&0==t.titleType?a("v-uni-view",{staticClass:"status"},[a("v-uni-view",{staticClass:"title"},[t._v("等待支付")]),a("v-uni-view",{staticClass:"desc",staticStyle:{display:"flex"}},[a("count-down",{attrs:{time:t.getTime},on:{timeEnd:function(e){arguments[0]=e=t.$handleEvent(e),t.timeEnd.apply(void 0,arguments)}}}),a("v-uni-text",{staticStyle:{position:"relative",bottom:"2rpx",left:"4rpx"}},[t._v("后将自动取消订单~")])],1),a("v-uni-view",{staticClass:"btns"},[a("v-uni-button",{staticClass:"btn cancel",attrs:{plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelOrder.apply(void 0,arguments)}}},[t._v("取消订单")]),a("v-uni-button",{staticClass:"btn",attrs:{plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pay.apply(void 0,arguments)}}},[t._v("去支付")])],1)],1):t._e(),a("v-uni-view",{staticClass:"order"},["delivery"==t.orderData.send_type?a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"key"},[t._v("配送时间")]),a("v-uni-view",{staticClass:"value"},[t._v(t._s(t.orderData.add_time))])],1):t._e(),a("v-uni-view",{staticClass:"line"},["delivery"==t.orderData.send_type?a("v-uni-view",{staticClass:"key"},[t._v("收货地址")]):a("v-uni-view",{staticClass:"key"},[t._v("门店地址")]),"delivery"==t.orderData.send_type?a("v-uni-view",{staticClass:"twoValue"},[a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.orderData.address.user_address))]),a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.orderData.address.user_name+" "+t.orderData.address.user_mobile))])],1):a("v-uni-view",{staticClass:"twoValue storeLocation",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openMap.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.order_store.store_name))]),a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.order_store.location))])],1),"self taking"==t.orderData.send_type?a("v-uni-image",{staticClass:"arrow",attrs:{src:t.arrow,mode:"scaleToFill"}}):t._e()],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-view",{staticClass:"key"},[t._v("配送方式")]),"delivery"==t.orderData.send_type?a("v-uni-view",{staticClass:"value"},[t._v("自有配送")]):a("v-uni-view",{staticClass:"value"},[t._v("到店自提")])],1)],1),a("v-uni-view",{staticClass:"orderInfo"},[a("v-uni-view",{staticClass:"title"},["delivery"==t.orderData.send_type?a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/icon/order2.png",mode:"scaleToFill"}}):a("v-uni-image",{staticClass:"icon",attrs:{src:"/static/icon/order1.png",mode:"scaleToFill"}}),a("v-uni-text",{staticClass:"text"},[t._v(t._s(t.order_store.store_name))])],1),a("v-uni-view",{staticClass:"goodsList"},[t._l(t.goodsData,(function(e,i){return[a("v-uni-view",{key:e.id,staticClass:"goodsItem",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toGoodsDetails(t.goodsData[i])}}},[a("v-uni-image",{staticClass:"pic",attrs:{src:e.img,mode:"scaleToFill"}}),a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(e.goods_name))]),a("v-uni-text",{staticClass:"spu"},[t._v(t._s(t.getLabel(e.goods_label_name)))]),a("v-uni-view",{staticClass:"type"},[a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.goods_price))]),a("v-uni-text",{staticClass:"num"},[t._v("X"+t._s(e.goods_num))])],1)],1)],1)]}))],2),a("v-uni-view",{staticClass:"checkOrder"},[a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("订单金额")]),a("v-uni-text",{staticClass:"num red"},[t._v("￥"+t._s(t.orderData.order_price))])],1),t.orderData.active>0?a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("活动优惠")]),a("v-uni-text",{staticClass:"num red"},[t._v("首单立减￥"+t._s(t.orderData.active))])],1):t._e(),a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("优惠券")]),a("v-uni-text",{staticClass:"num red"},[t._v("-￥"+t._s(t.orderData.discount))])],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("积分抵扣")]),a("v-uni-text",{staticClass:"num red"},[t._v("-￥"+t._s(t.orderData.integral_num))])],1),t.orderData.PJYUE?a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("啤酒余额抵扣")]),a("v-uni-text",{staticClass:"num red"},[t._v("-￥"+t._s(t.orderData.PJYUE))])],1):t._e(),t.orderData.blance_num?a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("余额支付")]),a("v-uni-text",{staticClass:"num red"},[t._v("-￥"+t._s(t.orderData.blance_num))])],1):t._e(),t.orderData.ReturnAmount?a("v-uni-view",{staticClass:"line"},[a("v-uni-text",{staticClass:"name"},[t._v("余额返还：")]),a("v-uni-text",{staticClass:"num red"},[t._v("+￥"+t._s(t.orderData.ReturnAmount))])],1):t._e()],1)],1),a("v-uni-view",{staticClass:"remarks"},[a("v-uni-text",{staticClass:"name"},[t._v("备注/发票:")]),a("v-uni-text",{staticClass:"remarks"},[t._v(t._s(t.orderData.remarks||"暂无备注"))])],1),a("v-uni-view",{staticClass:"orderDesc"},[a("v-uni-view",{staticClass:"line"},[a("v-uni-text",[t._v("订单编号:")]),a("v-uni-text",[t._v(t._s(t.orderData.order_no))]),a("v-uni-button",{staticClass:"copy",attrs:{plain:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy(t.orderData.order_no)}}},[t._v("复制")])],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-text",[t._v("下单时间:")]),a("v-uni-text",[t._v(t._s(t.orderData.add_time))])],1),a("v-uni-view",{staticClass:"line"},[a("v-uni-text",[t._v("支付方式:")]),"wechat"==t.orderData.order_pay_type?[a("v-uni-text",[t._v("微信支付")])]:t._e(),"balance"==t.orderData.order_pay_type?[a("v-uni-text",[t._v("余额支付")])]:t._e(),"delivery"==t.orderData.order_pay_type?[a("v-uni-text",[t._v("货到付款")])]:t._e(),"销售开票"==t.orderData.order_pay_type?[a("v-uni-text",[t._v("销售开票")])]:t._e()],2)],1)],1)],1)},n=[]},"99f6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAMCAYAAACJOyb4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMVJREFUeNpiZmBgyAHik0D8FIjPMVAO3IH4DhALgjiKUIP/A3EyhQa7QM35A8SGMEEWIL4NlUihwMUg/T+AWBJdkhuIr0IVpJJosA9U3ydoSGAFjEB8H6owkUiD3aDqfwGxBCHFHEB8E6ohg4BaL6i6z0AsQ6w3+YD4BlRjGg41nlD5j0AsR2oEseOJZFhQfANiWXKTFhsWHzgjpQopSjMFJxBfhhrYA6XfA7ECA5UAMxDfgxr8G1s6phTwQV2uTqwGgAADAJsYMWpRnsomAAAAAElFTkSuQmCC"},aa5b:function(t,e,a){"use strict";a.r(e);var i=a("4641"),n=a("0c96");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d28b");var r=a("828b"),o=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"7b900dee",null,!1,i["a"],void 0);e["default"]=o.exports},ab3b:function(t,e,a){"use strict";a("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("64aa"),a("e966");var i={props:{time:{type:Number,default:+new Date}},data:function(){return{hours:"00",minute:"00",second:"00"}},mounted:function(){this.countTime()},watch:{time:function(t,e){this.countTime()}},methods:{countTime:function(){var t=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){var e=+new Date,a=t.time,i=parseInt((a-e)/1e3);i<0&&(i=0,i=0,clearInterval(t.timer),t.$emit("timeEnd"));var n=parseInt(i/3600);n<10&&(n="0"+n);var s=parseInt(i%3600/60);s<10&&(s="0"+s);var r=i%3600%60;r<10&&(r="0"+r),t.second=r,t.minute=s,t.hours=n}),1e3)}}};e.default=i},d28b:function(t,e,a){"use strict";var i=a("63c5"),n=a.n(i);n.a}}]);