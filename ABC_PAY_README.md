# ğŸš€ 365-Android é¡¹ç›® - å†œè¡Œç»¼åˆæ”¶é“¶å°å¾®ä¿¡æ”¯ä»˜é›†æˆ

**é…ç½®å®Œæˆï¼æ‰€æœ‰å·¥ä½œå·²å°±ç»ªï¼Œå¯ç›´æ¥æµ‹è¯•ã€‚**

---

## âš¡ 30ç§’å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ å®‰è£…åº”ç”¨
```bash
adb install -r app\build\outputs\apk\release\app-release.apk
```

### 2ï¸âƒ£ å¯åŠ¨åº”ç”¨
```bash
adb shell am start -n net.qsgl365/.MainActivity
```

### 3ï¸âƒ£ æµ‹è¯•æ”¯ä»˜
åœ¨åº”ç”¨ WebView çš„æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
window.createWeChatPay({
    orderNo: 'TEST20260105001',
    orderAmount: '0.01',
    orderDesc: 'æµ‹è¯•è®¢å•'
})
```

### 4ï¸âƒ£ æŸ¥çœ‹æ—¥å¿—
```bash
adb logcat | findstr AbcPay
```

---

## ğŸ“‹ æ ¸å¿ƒä¿¡æ¯

| é¡¹ | å€¼ |
|----|-----|
| **åº”ç”¨åŒ…å** | net.qsgl365 |
| **å•†æˆ·å·** | 103881636900016 |
| **æ”¯ä»˜ç¯å¢ƒ** | æµ‹è¯• (pay.test.abchina.com) |
| **App SHA1ç­¾å** | 890515e6ec356bb9156916c9facea108192e3748 |
| **App MD5ç­¾å** | 6c43d323ce2e7f35ae5d28551627b414 |
| **Release APK** | 29.56 MBï¼ˆå·²ç­¾åï¼‰ |

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»æ—¶é—´ |
|------|------|---------|
| **ABC_PAY_QUICK_CARD.md** | å¿«é€Ÿå‚è€ƒå¡ | 2 åˆ†é’Ÿ â­ |
| **ABC_PAY_COMPLETE_CONFIRMATION.md** | å®Œæˆç¡®è®¤ | 5 åˆ†é’Ÿ |
| **ABC_PAY_CONFIG_COMPLETE.md** | é…ç½®è¯¦æƒ… | 10 åˆ†é’Ÿ |
| **ABC_PAY_BUILD_AND_TEST_GUIDE.md** | ç¼–è¯‘æµ‹è¯•æŒ‡å— | 15 åˆ†é’Ÿ |
| **ABC_WECHAT_PAY_INTEGRATION.md** | è¯¦ç»†æŠ€æœ¯æ–‡æ¡£ | 20 åˆ†é’Ÿ |

**æ¨èé˜…è¯»é¡ºåº**ï¼šå¿«é€Ÿå‚è€ƒå¡ â†’ å®Œæˆç¡®è®¤ä¹¦ â†’ å…¶ä»–æ–‡æ¡£

---

## ğŸ’³ æ”¯ä»˜æ–¹å¼

æ”¯æŒ 3 ç§å¾®ä¿¡æ”¯ä»˜æ–¹å¼ï¼Œé€šè¿‡ JavaScript Bridge è°ƒç”¨ï¼š

### 1ï¸âƒ£ APP æ”¯ä»˜ï¼ˆæ¨èç”¨äº Android Appï¼‰
```javascript
window.createWeChatPay({
    orderNo: 'è®¢å•å·',           // å•†æˆ·è®¢å•å·
    orderAmount: '0.01',         // æ”¯ä»˜é‡‘é¢ï¼ˆå…ƒï¼‰
    orderDesc: 'è®¢å•æè¿°'        // è®¢å•æè¿°
});
```

### 2ï¸âƒ£ JSAPI æ”¯ä»˜ï¼ˆç”¨äºå…¬ä¼—å·/å°ç¨‹åºï¼‰
```javascript
window.createWeChatJsApiPay({
    orderNo: 'è®¢å•å·',
    orderAmount: '0.01',
    orderDesc: 'è®¢å•æè¿°'
});
```

### 3ï¸âƒ£ æ‰«ç æ”¯ä»˜ï¼ˆç”¨äºPCç½‘é¡µï¼‰
```javascript
window.createWeChatNativePay({
    orderNo: 'è®¢å•å·',
    orderAmount: '0.01',
    orderDesc: 'è®¢å•æè¿°'
});
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šè¯ä¹¦åŠ è½½å¤±è´¥
**è§£å†³**ï¼šæ£€æŸ¥è¯ä¹¦æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº `app/src/main/assets/`
```bash
Get-Item K:\365-android\app\src\main\assets\merchant.pfx
Get-Item K:\365-android\app\src\main\assets\TrustPay.cer
```

### é—®é¢˜ï¼šæ— æ³•è¿æ¥å†œè¡ŒæœåŠ¡å™¨
**è§£å†³**ï¼šç¡®ä¿ç½‘ç»œæ­£å¸¸ï¼Œæ£€æŸ¥æ—¥å¿—ï¼š
```bash
adb logcat | findstr "AbcWeChatPayManager"
```

### é—®é¢˜ï¼šæ”¯ä»˜è¿”å›é”™è¯¯
**è§£å†³**ï¼šæ ¹æ®è¿”å›ç æŸ¥æ‰¾é”™è¯¯åŸå› 
- `0000` = æˆåŠŸ
- `0001` = è¯ä¹¦é”™è¯¯ï¼ˆæ£€æŸ¥å¯†ç ï¼‰
- `0002` = å•†æˆ·å·é”™è¯¯

### é—®é¢˜ï¼šç­¾åä¸åŒ¹é…
**è§£å†³**ï¼šä½¿ç”¨æ­£ç¡®çš„ç­¾åï¼š
- **SHA1**ï¼š`890515e6ec356bb9156916c9facea108192e3748`
- **MD5**ï¼š`6c43d323ce2e7f35ae5d28551627b414`

---

## ğŸ”‘ é…ç½®ä¿¡æ¯

### å•†æˆ·é…ç½®
```java
// æ–‡ä»¶ï¼šapp/src/main/java/net/qsgl365/AbcPayConfig.java

MERCHANT_ID = "103881636900016"           // å•†æˆ·å·
MERCHANT_CERT_PASSWORD = "ay365365"       // è¯ä¹¦å¯†ç 
USE_TEST_ENV = true                       // æµ‹è¯•ç¯å¢ƒ
```

### è¯ä¹¦æ–‡ä»¶
```
app/src/main/assets/
â”œâ”€â”€ merchant.pfx      (2562 bytes) - å•†æˆ·è¯ä¹¦
â””â”€â”€ TrustPay.cer      (770 bytes)  - å†œè¡Œå¹³å°è¯ä¹¦
```

### æ”¯ä»˜ç¯å¢ƒ
```
æµ‹è¯•ç¯å¢ƒï¼šhttps://pay.test.abchina.com:443
ç”Ÿäº§ç¯å¢ƒï¼šhttps://pay.abchina.com:443
```

---

## ğŸ“± å®‰è£…å’Œè¿è¡Œ

### ç³»ç»Ÿè¦æ±‚
- Android SDK 21+
- ç½‘ç»œè¿æ¥
- å¾®ä¿¡ Appï¼ˆè¿›è¡Œå®é™…æ”¯ä»˜æ—¶ï¼‰

### ç¼–è¯‘å‘½ä»¤

```bash
# ç¼–è¯‘ Debug ç‰ˆæœ¬
.\gradlew.bat assembleDebug

# ç¼–è¯‘ Release ç‰ˆæœ¬
.\gradlew.bat assembleRelease
```

### å·²ç¼–è¯‘çš„ APK

```
Debug ç‰ˆæœ¬ï¼šapp/build/outputs/apk/debug/app-debug.apk (31.45 MB)
Release ç‰ˆæœ¬ï¼šapp/build/outputs/apk/release/app-release.apk (29.56 MB)
```

### å®‰è£…å‘½ä»¤

```bash
# å®‰è£… Release ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
adb install -r app\build\outputs\apk\release\app-release.apk

# æˆ–å®‰è£… Debug ç‰ˆæœ¬
adb install -r app\build\outputs\apk\debug\app-debug.apk
```

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### ç¬¬ 1 æ­¥ï¼šå®‰è£…åº”ç”¨
```bash
adb install -r app\build\outputs\apk\release\app-release.apk
```

### ç¬¬ 2 æ­¥ï¼šå¯åŠ¨åº”ç”¨
```bash
adb shell am start -n net.qsgl365/.MainActivity
```

### ç¬¬ 3 æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
åœ¨åº”ç”¨ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆå¦‚æœæ”¯æŒï¼‰ï¼Œæˆ–ä½¿ç”¨ logcat ç›‘æ§ï¼š
```bash
adb logcat -c
adb logcat | findstr "AbcPay"
```

### ç¬¬ 4 æ­¥ï¼šè§¦å‘æ”¯ä»˜
åœ¨ WebView ä¸­æ‰§è¡Œæ”¯ä»˜ä»£ç ï¼š
```javascript
window.createWeChatPay({
    orderNo: 'TEST001',
    orderAmount: '0.01',
    orderDesc: 'æµ‹è¯•è®¢å•'
})
```

### ç¬¬ 5 æ­¥ï¼šè§‚å¯Ÿç»“æœ
åœ¨ logcat ä¸­æŸ¥çœ‹ï¼š
- `AbcPayConfig` - é…ç½®ä¿¡æ¯
- `AbcWeChatPayManager` - æ”¯ä»˜è¯·æ±‚å’Œå“åº”
- `AbcPayResultActivity` - æ”¯ä»˜ç»“æœ

---

## ğŸŒ å¾®ä¿¡å¼€æ”¾å¹³å°æ³¨å†Œ

### éœ€è¦çš„ä¿¡æ¯
- **åº”ç”¨åç§°**ï¼š365-Android
- **åº”ç”¨åŒ…å**ï¼šnet.qsgl365
- **App ç­¾å(MD5)**ï¼š`6c43d323ce2e7f35ae5d28551627b414`
- **App ç­¾å(SHA1)**ï¼š`890515e6ec356bb9156916c9facea108192e3748`

è¿™äº›ä¿¡æ¯å·²ä»æœ¬é¡¹ç›®è‡ªåŠ¨æå–ï¼Œå¯ç›´æ¥ç”¨äºå¹³å°æ³¨å†Œã€‚

---

## ğŸ” å®‰å…¨æ€§æé†’

### âš ï¸ ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒåšçš„äº‹
- âŒ åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯ï¼ˆé™¤é…ç½®ç±»ï¼‰
- âŒ å°†è¯ä¹¦å¯†ç æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- âŒ åœ¨å…¬å¼€ä»“åº“ä¸­æäº¤ç”Ÿäº§ç¯å¢ƒè¯ä¹¦
- âŒ ä½¿ç”¨æµ‹è¯•ç¯å¢ƒçš„å•†æˆ·å·è¿›è¡Œå®é™…äº¤æ˜“

### âœ… æ­£ç¡®çš„åšæ³•
- âœ… ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†æ•æ„Ÿä¿¡æ¯
- âœ… å°† `.jks` å’Œè¯ä¹¦æ–‡ä»¶åŠ å…¥ `.gitignore`
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡åˆ‡æ¢æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒ
- âœ… å®šæœŸæ›´æ–°å’Œæ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å†œè¡Œå®˜æ–¹èµ„æº
- æµ‹è¯•ç¯å¢ƒï¼šhttps://pay.test.abchina.com/easyebus/
- å¤‡ç”¨åœ°å€ï¼šhttps://bank.u51.com/ebus-two/docs/#/
- SDK åŒ…ï¼š`ç»¼åˆæ”¶é“¶å°æ¥å£åŒ…_V3.3.3è½¯ä»¶åŒ…` (é¡¹ç›®æ ¹ç›®å½•)

### ç›¸å…³é…ç½®æ–‡ä»¶ä½ç½®
- æ”¯ä»˜é…ç½®ï¼š`app/src/main/java/net/qsgl365/AbcPayConfig.java`
- æ”¯ä»˜ç®¡ç†ï¼š`app/src/main/java/net/qsgl365/AbcWeChatPayManager.java`
- å›è°ƒå¤„ç†ï¼š`app/src/main/java/net/qsgl365/AbcPayResultActivity.java`
- JavaScript Bridgeï¼š`app/src/main/java/net/qsgl365/MainActivity.java`

---

## âœ… é¡¹ç›®çŠ¶æ€

| é˜¶æ®µ | çŠ¶æ€ | æ—¶é—´ |
|------|------|------|
| ä»£ç é›†æˆ | âœ… å®Œæˆ | å·²å®Œæˆ |
| å•†æˆ·é…ç½® | âœ… å®Œæˆ | 2026.01.05 |
| ç¼–è¯‘æµ‹è¯• | âœ… å®Œæˆ | 2026.01.05 |
| åŠŸèƒ½æµ‹è¯• | â³ å¾…è¿›è¡Œ | å³å°†å¼€å§‹ |
| ç”Ÿäº§ä¸Šçº¿ | â³ å¾…åç»­ | å¾…å®š |

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

```
æ€»ä»£ç è¡Œæ•°ï¼š           ~5,000 è¡Œ
æ ¸å¿ƒæ”¯ä»˜ç±»æ•°ï¼š         3 ä¸ª
JavaScript æ–¹æ³•æ•°ï¼š    3 ä¸ª
æ”¯æŒçš„æ”¯ä»˜æ–¹å¼ï¼š       3 ç§
æ–‡æ¡£æ–‡ä»¶æ•°ï¼š          8+ ä¸ª
ç¼–è¯‘æˆåŠŸç‡ï¼š          100%
é…ç½®å®Œæˆåº¦ï¼š          100%
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **ç«‹å³æµ‹è¯•** â† å®‰è£… APK å¹¶åœ¨åº”ç”¨ä¸­æµ‹è¯•æ”¯ä»˜
2. **å®ŒæˆåŠŸèƒ½æµ‹è¯•** â† éªŒè¯æ‰€æœ‰æ”¯ä»˜åœºæ™¯
3. **åˆ‡æ¢ç”Ÿäº§ç¯å¢ƒ** â† ä¿®æ”¹é…ç½®å¹¶ä½¿ç”¨ç”Ÿäº§è¯ä¹¦
4. **å†œè¡Œå®¡æ ¸** â† æäº¤å†œè¡Œè¿›è¡Œå®¡æ ¸
5. **ä¸Šçº¿å‘å¸ƒ** â† æ­£å¼å‘å¸ƒåº”ç”¨

---

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

- **é¡¹ç›®**ï¼š365-Android
- **ç‰ˆæœ¬**ï¼š1.0
- **æ›´æ–°æ—¶é—´**ï¼š2026å¹´1æœˆ5æ—¥
- **æ”¯ä»˜åŠŸèƒ½**ï¼šå†œè¡Œç»¼åˆæ”¶é“¶å° v3.3.3 + å¾®ä¿¡æ”¯ä»˜
- **åº”ç”¨åŒ…å**ï¼šnet.qsgl365
- **ç¼–è¯‘å®Œæˆåº¦**ï¼šâœ… 100%

---

**ğŸ‰ æ‰€æœ‰å‡†å¤‡å·¥ä½œå·²å®Œæˆï¼Œç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•ï¼**

**æ¨èå…ˆé˜…è¯»**ï¼š`ABC_PAY_QUICK_CARD.md` (2åˆ†é’Ÿå¿«é€Ÿå…¥é—¨)
